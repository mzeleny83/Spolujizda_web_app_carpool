package com.carpooling\n\nimport android.os.Bundle\nimport androidx.activity.ComponentActivity\nimport androidx.activity.compose.setContent\nimport androidx.compose.foundation.layout.*\nimport androidx.compose.material3.*\nimport androidx.compose.runtime.*\nimport androidx.compose.ui.Modifier\nimport androidx.compose.ui.tooling.preview.Preview\nimport androidx.compose.ui.unit.dp\nimport androidx.compose.ui.text.font.FontWeight\nimport com.carpooling.ui.theme.CarpoolingAppTheme\n\nclass MainActivity : ComponentActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContent {\n            CarpoolingAppTheme {\n                Surface(modifier = Modifier.fillMaxSize(), color = MaterialTheme.colorScheme.background) {\n                    CarpoolingScreen()\n                }\n            }\n        }\n    }\n}\n\ndata class RideOffer(\n    val driverName: String,\n    val origin: String,\n    val destination: String,\n    val time: String,\n    val seatsAvailable: Int\n)\n\n@OptIn(ExperimentalMaterial3Api::class)\n@Composable\nfun CarpoolingScreen() {\n    var origin by remember { mutableStateOf("") }\n    var destination by remember { mutableStateOf("") }\n    var time by remember { mutableStateOf("") }\n    var foundRides by remember { mutableStateOf<List<RideOffer>>(emptyList()) }\n\n    Column(modifier = Modifier.fillMaxSize().padding(16.dp)) {\n        Text(\n            text = "Spolujízda",\n            style = MaterialTheme.typography.headlineLarge,\n            modifier = Modifier.padding(bottom = 16.dp)\n        )\n\n        OutlinedTextField(\n            value = origin,\n            onValueChange = { origin = it },\n            label = { Text("Odkud?") },\n            modifier = Modifier.fillMaxWidth().padding(bottom = 8.dp)\n        )\n        OutlinedTextField(\n            value = destination,\n            onValueChange = { destination = it },\n            label = { Text("Kam?") },\n            modifier = Modifier.fillMaxWidth().padding(bottom = 8.dp)\n        )\n        OutlinedTextField(\n            value = time,\n            onValueChange = { time = it },\n            label = { Text("Kdy? (např. 7:30)") },\n            modifier = Modifier.fillMaxWidth().padding(bottom = 16.dp)\n        )\n\n        Button(\n            onClick = {\n                // Simulace vyhledávání jízdy\n                if (origin.isNotBlank() && destination.isNotBlank() && time.isNotBlank()) {\n                    val mockRides = listOf(\n                        RideOffer("Jan Novák", origin, destination, time, 3),\n                        RideOffer("Petra Svobodová", origin, destination, "${time.take(2).toIntOrNull()?.plus(1) ?: ""}:00", 2)\n                    ).filter { it.origin.contains(origin, ignoreCase = true) && it.destination.contains(destination, ignoreCase = true) }\n                    foundRides = mockRides\n                } else {\n                    foundRides = emptyList()\n                }\n            },\n            modifier = Modifier.fillMaxWidth().height(50.dp)\n        ) {\n            Text("Najít spolujízdu")\n        }\n\n        Spacer(modifier = Modifier.height(24.dp))\n\n        if (foundRides.isNotEmpty()) {\n            Text("Nalezené jízdy:", style = MaterialTheme.typography.headlineSmall, modifier = Modifier.padding(bottom = 8.dp))\n            foundRides.forEach { ride ->\n                Card(\n                    modifier = Modifier.fillMaxWidth().padding(vertical = 4.dp)\n                ) {\n                    Column(modifier = Modifier.padding(16.dp)) {\n                        Text("Řidič: ${ride.driverName}", fontWeight = FontWeight.Bold)\n                        Text("Trasa: ${ride.origin} -> ${ride.destination}")\n                        Text("Čas: ${ride.time}")\n                        Text("Volná místa: ${ride.seatsAvailable}")\n                    }\n                }\n            }\n        } else if (origin.isNotBlank() || destination.isNotBlank() || time.isNotBlank()) {\n            Text("Žádné odpovídající jízdy nebyly nalezeny.", style = MaterialTheme.typography.bodyLarge)\n        } else {\n            Text("Zadejte prosím detaily jízdy pro vyhledání.", style = MaterialTheme.typography.bodyLarge)\n        }\n    }\n}\n\n@Preview(showBackground = true)\n@Composable\nfun CarpoolingScreenPreview() {\n    CarpoolingAppTheme {\n        CarpoolingScreen()\n    }\n}